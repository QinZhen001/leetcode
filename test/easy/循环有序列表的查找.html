<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>循环有序列表的查找</title>
</head>
<body>


<script>
  const a = find([7, 7, 8, 9, 1, 2, 5, 6, 7, 7], 5);
  const b = find([7, 7, 8, 9, 1, 2, 5, 6, 7, 7], 4);
  const c = find([7, 7, 8, 9, 1, 2, 5, 6, 7, 7], 8);

  console.log("位置 ", a)
  console.log("位置 ", b)
  console.log("位置 ", c)


  function find(nums, target) {
    let start = 0
    let end = nums.length - 1
    while (start <= end) {
      const mid = start + ((end - start) >> 1)
      if (nums[mid] === target) return mid

      if (nums[mid] >= nums[start]) {
        //start - mid 有序
        if (target >= nums[start] && target <= nums[mid]) {
          // target不可能等于nums[mid]
          end = mid - 1
        } else {
          start = mid + 1
        }
      } else {
        //mid - end 有序
        if (target >= nums[mid] && target <= nums[end]) {
          // target不可能等于nums[mid]
          start = mid + 1
        } else {
          // target不可能等于nums[mid]
          end = mid - 1
        }
      }
    }
    return -1
  }
</script>
</body>
</html>