<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>实现深拷贝</title>
</head>
<body>
<script>
  function deepCopy(o) {
    if (typeof o !== "object") return o
    let n = null
    if (Array.isArray(o)) {
      n = new Array(o.length)
      o.forEach((v, i) => {
        n[i] = deepCopy(v)
      })
    } else {
      Object.keys(o).forEach(key => {
        n[key] = deepCopy(o[key])
      })
    }
    return n
  }

  const a = {
    a: [
      1,
      [4],
      {
        a: {
          c: [4]
        }
      }
    ]
  }

  const b = deepCopy(a);

  a.c = "c";
  console.log(a);
  console.log(b);
  console.log(a.c);
  console.log(b.c);

</script>
</body>
</html>